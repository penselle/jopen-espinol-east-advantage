import{r as t,j as e,H as g,a as c,b as f}from"./app-CI3SBKmK.js";import{A as v}from"./app-layout-DkULalIk.js";import{L as d,I as m}from"./label-Xo6sJ97v.js";/* empty css            */import"./createLucideIcon-hF1magqm.js";import"./index-D0USPnTx.js";import"./index-BJ7uylZM.js";const y=[{title:"Create User",href:"/create-user"}];function A(){const[u,p]=t.useState([]),[a,x]=t.useState(""),[l,h]=t.useState(""),[o,b]=t.useState([]),[i,n]=t.useState("");t.useEffect(()=>{(async()=>{try{const r=await c.get("/roles");console.log("results",r.data),p(r.data.data)}catch(r){console.error("Error fetching roles:",r),n("Something went wrong")}})()},[]);const j=async s=>{s.preventDefault();try{const r=await c.post("/store-user",{name:a,email:l,roles:o});f.visit("/users")}catch(r){n(r.response.data.message||"An error occurred")}};return e.jsxs(v,{breadcrumbs:y,children:[e.jsx(g,{title:"Create User"}),e.jsx("div",{className:"flex-1 md:max-w-2xl",children:e.jsx("section",{className:"max-w-xl space-y-12",children:e.jsx("div",{className:"p-12 space-y-6",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"grid gap-2 mb-5",children:[e.jsx(d,{htmlFor:"name",children:"Full Name"}),e.jsx(m,{id:"name",type:"text",className:"p-2 block w-full border border-gray-300 rounded",value:a,onChange:s=>x(s.target.value),required:!0})]}),e.jsxs("div",{className:"grid gap-2 mb-5",children:[e.jsx(d,{htmlFor:"name",children:"Email"}),e.jsx(m,{id:"email",type:"email",className:"p-2 block w-full border border-gray-300 rounded",value:l,onChange:s=>h(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"roles",className:"block text-sm font-medium",children:"Roles"}),e.jsx("select",{id:"roles",multiple:!0,className:"p-2 block w-full border border-gray-300 rounded",value:o,onChange:s=>b([...s.target.selectedOptions].map(r=>r.value)),required:!0,children:u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]}),i&&e.jsx("div",{className:"text-red-600",children:i}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Submit"})})]})})})})]})}export{A as default};
